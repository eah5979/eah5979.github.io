!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="637d7fd5-1ec2-4c58-b3e7-2d6867ef87cc",e._sentryDebugIdIdentifier="sentry-dbid-637d7fd5-1ec2-4c58-b3e7-2d6867ef87cc")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7499],{17499:(e,t,i)=>{i.d(t,{CE:()=>d,D6:()=>n,DT:()=>g,Dw:()=>S,JD:()=>p,T5:()=>f,_C:()=>v,fq:()=>s,hS:()=>E,hx:()=>A,r8:()=>c,sz:()=>u});var r=i(28541),l=i(14580);let a=r.indexes.RecordTypes,o=e=>[{multi_match:{query:e,fields:["name"],type:"bool_prefix",operator:"and",fuzziness:"AUTO"}}],u=(e,t)=>{var i;let r=null===(i=t||"")||void 0===i?void 0:i.trim().toLowerCase();if(!r)return[];switch(e){case a.ARTICLES:return[{multi_match:{query:r,fields:["title^2","keywords^1.8","artistSlug^1.5","author^1.2","articleSummary^1.1","customTaxonomy","image.credit.text"]}}];case a.ARTIST:return o(r);case a.TICKETS:return[{multi_match:{query:r,fields:["artist^2","title^1.8","artworkId^1.5","collectionSlug"]}}];case a.ARTIST_SELECT_LIST:return o(r);case a.ARTWORK_SELECT_LIST:return[{bool:{should:[{prefix:{title:{value:r}}},{match:{title:r}},{fuzzy:{title:{value:r,fuzziness:"AUTO"}}}]}}];case a.COLLECTION:return[{bool:{should:[{prefix:{title:{value:r}}},{match:{title:r}},{match:{artist:r}},{fuzzy:{title:{value:r,fuzziness:"AUTO"}}}]}}];case a.ARTWORK:default:return[{multi_match:{query:r,fields:["title^2","artist^1.5","collection^1.2","format.name"],type:"best_fields",operator:"or",minimum_should_match:1}}]}},s=e=>{switch(e){case a.ARTIST:return[{_score:{order:"desc"}},{totalArtworks:{order:"desc"}}];case a.ARTWORK:return[{_score:{order:"desc"}},{indexWeighting:{order:"asc"}},{indexOrderDate:{order:"desc"}}];case a.COLLECTION:return[{_score:{order:"desc"}},{isFeatured:{order:"desc"}}];case a.LATEST_ARTWORK:return[{indexWeighting:{order:"asc"}},{indexOrderDate:{order:"desc"}},{romeoDateModified:{order:"desc"}}];case a.ARTWORK_SELECT_LIST:return[{_score:{order:"desc"}}];case a.ARTICLES:return[{_score:{order:"desc"}},{documentPriority:{order:"desc",missing:"_last"}},{publishDate:{order:"desc"}}];case a.ARTICLES_INDEX:return[{publishDate:{order:"desc"}}];case a.TICKETS:return[{dateModified:{order:"desc"}}];case a.ARTIST_SELECT_LIST:return[{_score:{order:"desc"}},{"name.keyword":{order:"asc"}}];default:return}},n=e=>{switch(e){case a.ARTWORK:return["objectID","artist","artistImage","artistSlug","artistUrl","artworkSlug","collectionSlug","collectionTaxonomy","format","image","signed","title","url","poa","listPriceMin","listPriceMax","listPriceMinValues","listPriceMaxValues","aagr","buyTicketsCount","sellTicketsCount","ownedTicketsCount"];case a.ARTIST:return["name","image","slug","totalArtworks"];case a.ARTICLES:return["objectID","title","subtitle","slug","image","articleSummary","artistSlug","customTaxonomy","articleType","articleTypeSlug","articleTypeTitle","url","secondaryCategories","author","authorSlug","authorImage","readtime","publishDate"];case a.COLLECTION:return["title","image","url","artist"];case a.PROFILE_IMAGE:return["title","image","objectID","url","format"];case a.ARTWORK_SELECT_LIST:return["objectID","format","image","title"];case a.ARTIST_SELECT_LIST:return["objectID","name","slug","image"];default:return}},d=e=>"".concat(e,"_count"),c=e=>(null==e?void 0:e.aggregations)?Object.keys(e.aggregations).reduce((t,i)=>{if(!i.endsWith("_count")){var r,l,a;let o=e.aggregations||{};t.push({type:i,total:null!==(a=null==o?void 0:null===(r=o["".concat(i,"_count")])||void 0===r?void 0:r.value)&&void 0!==a?a:0,hits:((null===(l=o[i])||void 0===l?void 0:l.buckets)||[]).flatMap(e=>{var t,i,r;return null===(t=(null==e?void 0:null===(r=e.docs)||void 0===r?void 0:null===(i=r.hits)||void 0===i?void 0:i.hits)||[])||void 0===t?void 0:t.map(t=>{var i,r,l;return{...(null==t?void 0:t._source)||{},__key:e.key,__count:(null==e?void 0:null===(l=e.docs)||void 0===l?void 0:null===(r=l.hits)||void 0===r?void 0:null===(i=r.total)||void 0===i?void 0:i.value)||0}})})})}return t},[]):[],v=e=>(null==e?void 0:e.aggregations)?Object.keys(e.aggregations).reduce((t,i)=>{if(!i.endsWith("_count")){var r;let l=e.aggregations||{};t.push({type:i,total:0,hits:((null===(r=l[i])||void 0===r?void 0:r.buckets)||[]).flatMap(e=>{var t;return{__key:e.key,__count:null!==(t=e.doc_count)&&void 0!==t?t:0}})})}return t},[]):[],g=(e,t)=>{var i,r,l,a,o;return(null==t?void 0:t.hits)?[{type:e,total:null!==(o=null==t?void 0:null===(r=t.hits)||void 0===r?void 0:null===(i=r.total)||void 0===i?void 0:i.value)&&void 0!==o?o:0,hits:null==t?void 0:null===(a=t.hits)||void 0===a?void 0:null===(l=a.hits)||void 0===l?void 0:l.map(e=>e._source||{})}]:[]},m=e=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>{var t;return{_id:e._id,name:e.name,image:e.image,qualifiedUrl:"artist-".concat(e.slug),type:l.p.Artist,subtitle:null===(t=e.format)||void 0===t?void 0:t.name,totalArtworks:e.totalArtworks}}):[],T=e=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>({_id:e.collectionId,name:e.title,image:e.image,qualifiedUrl:e.url,type:l.p.Artwork,subtitle:e.artist,totalArtworks:(null==e?void 0:e.collectionCount)||(null==e?void 0:e.__count)||0})):[],_=e=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>{var t,i;return{_id:e.objectID,name:e.title,image:e.image,qualifiedUrl:e.url,type:l.p.Artwork,subtitle:null===(t=e.format)||void 0===t?void 0:t.name,totalArtworks:null!==(i=null==e?void 0:e.__count)&&void 0!==i?i:0}}):[],y=e=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>({_id:e.objectID,title:e.title,subtitle:e.subtitle,slug:e.slug,leadImage:e.image,summary:e.articleSummary,artistSlug:e.artistSlug,articleTaxonomy:e.customTaxonomy,modules:e.modules,articleType:e.articleType,articleTypeSlug:e.articleTypeSlug,articleTypeTitle:e.articleTypeTitle,qualifiedUrl:e.url,secondaryCategories:e.secondaryCategories,readtime:null==e?void 0:e.readtime,publishDate:null==e?void 0:e.publishDate,author:{name:null==e?void 0:e.author,slug:null==e?void 0:e.authorSlug,image:null==e?void 0:e.authorImage}})):[],h=e=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>{var t;return{_id:e.objectID,artist:e.artist||"",artistImage:e.artistImage||"",artistSlug:e.artistSlug||"",artistUrl:e.artistUrl||"",artworkSlug:e.artworkSlug||"",collectionSlug:e.collectionSlug||"",collectionTaxonomy:e.collectionTaxonomy||"",format:(null===(t=e.format)||void 0===t?void 0:t.name)||"",image:e.image||"",signed:e.signed||"",title:e.title||"",qualifiedUrl:e.url||"",poa:e.poa,listPriceMin:e.listPriceMin,listPriceMax:e.listPriceMax,listPriceMinValues:e.listPriceMinValues,listPriceMaxValues:e.listPriceMaxValues,aagr:e.aagr,buyTicketsCount:e.buyTicketsCount,sellTicketsCount:e.sellTicketsCount,ownedTicketsCount:e.ownedTicketsCount}}):[],I=(e,t)=>Array.isArray(e)&&(null==e?void 0:e.length)?e.map(e=>({value:e.objectID,label:t===a.ARTIST_SELECT_LIST?e.name:"".concat(e.title," - ").concat(e.format.name),image:e.image})):[],p=e=>{var t;return{type:e.type,total:e.total,facets:null==e?void 0:null===(t=e.hits)||void 0===t?void 0:t.map(e=>{var t,i,r;return{count:e.__count,name:null==e?void 0:null===(t=e.format)||void 0===t?void 0:t.name,slug:null==e?void 0:null===(i=e.format)||void 0===i?void 0:i.slug,_id:null==e?void 0:null===(r=e.format)||void 0===r?void 0:r._id}})}},S=e=>{var t;return{type:e.type,total:e.total,facets:null==e?void 0:null===(t=e.hits)||void 0===t?void 0:t.map(e=>({totalArtworks:e.__count,name:null==e?void 0:e.artist,slug:null==e?void 0:e.artistSlug,_id:null==e?void 0:e.artistId}))}},f=e=>{var t;return{type:e.type,total:e.total,facets:null==e?void 0:null===(t=e.hits)||void 0===t?void 0:t.map(e=>{var t;let i=null===(t=e.genres)||void 0===t?void 0:t.find(t=>t._id===e.__key);return{count:e.__count,name:null==i?void 0:i.name,slug:null==i?void 0:i.slug,_id:null==i?void 0:i._id}})}},A=e=>{var t;return{type:e.type,total:e.total,facets:null==e?void 0:null===(t=e.hits)||void 0===t?void 0:t.map(e=>"".concat(Math.round(+(e.__key||0))))}},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hits",i=arguments.length>2?arguments[2]:void 0;return e.map(e=>{let r=structuredClone(e.hits);switch(delete e.hits,i||e.type){case a.ARTIST:return{...e,[t]:m(r),sl:1,insightsQueryID:void 0};case a.PROFILE_IMAGE:return{...e,[t]:_(r),sl:2,insightsQueryID:void 0};case a.ARTWORK:case a.LATEST_ARTWORK:case a.RELATED_ARTWORK:return{...e,[t]:h(r),sl:3,insightsQueryID:void 0};case a.COLLECTION:return{...e,[t]:T(r),sl:4,insightsQueryID:void 0};case a.ARTICLES:return{...e,[t]:y(r),sl:5,insightsQueryID:void 0};case a.ARTWORK_SELECT_LIST:return{...e,[t]:I(r,a.ARTWORK_SELECT_LIST),sl:6,insightsQueryID:void 0};case a.ARTIST_SELECT_LIST:return{...e,[t]:I(r,a.ARTIST_SELECT_LIST),sl:7,insightsQueryID:void 0};default:return{...e,[t]:r,sl:8,insightsQueryID:void 0}}}).sort((e,t)=>e.sl-t.sl)}}}]);