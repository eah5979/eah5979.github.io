!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="80121067-6b83-4034-832c-18035dbe5c4f",e._sentryDebugIdIdentifier="sentry-dbid-80121067-6b83-4034-832c-18035dbe5c4f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5181],{46778:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(31085),i=a(92659),r=a.n(i);function n(e){let{children:t,testID:a}=e;return(0,s.jsx)("div",{className:r().base,"data-testid":a,children:t})}},74946:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(31085),i=a(53373),r=a.n(i),n=a(86035),o=a.n(n);function l(e){let{blur:t=!0,bar:a,testID:i}=e;return(0,s.jsx)("div",{className:r()(o().base,t&&o().blur),children:(0,s.jsxs)("div",{className:r()(o().linearProgress,a&&o().thin),"data-testid":i,children:[(0,s.jsx)("div",{className:r()(o().linearProgressBar,o().linearProgressBar1)}),(0,s.jsx)("div",{className:r()(o().linearProgressBar,o().linearProgressBar2)})]})})}},21286:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(31085),i=a(28071),r=a.n(i);function n(e){let{testID:t,children:a}=e;return(0,s.jsx)("div",{className:r().base,"data-testid":t,children:a})}},30465:(e,t,a)=>{"use strict";a.d(t,{dU:()=>T,OZ:()=>S,pI:()=>j});var s=a(14041),i=a(31242),r=a(59504),n=a(79313),o=a(84291),l=a(58987),d=a(81374),c=a(46749),u=a(10523),m=a(68436),p=a(67647),h=a(31033),g=a(62271),f=a(7359),v=a(36821);let b=async(e,t,a,s,i)=>{try{let r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,phone:t||null,firstname:a||null,lastname:s||null,myportfoliouser:!!i||null})},n=await fetch("".concat("https://www.myartbroker.com/api","/hs/findOrCreateContactID"),r);if(200!==n.status)return null;return await n.json()}catch(e){return console.log(e),null}};var x=a(88951),y=a(95303);let w=async(e,t,a,s,i,r,n)=>{let o=(0,x.A)(t),l=(0,x.A)(a);try{var d,c,u,m,p;await i.from(v.s.PUBLIC_USERS_TABLE).insert([{id:e,first_name:o,last_name:l}]);let x=(0,h.getCookie)("hubspotutk"),w=n||"".concat(null===(d=window.location)||void 0===d?void 0:d.protocol,"//").concat(null===(c=window.location)||void 0===c?void 0:c.host).concat(null===(u=window.location)||void 0===u?void 0:u.pathname),_={method:"POST",headers:f.c,body:JSON.stringify({email:s,firstname:o,lastname:l,hsCookie:x,hsFormId:g.tp,currentPage:w,myportfoliouser:!0})};await fetch("".concat("https://www.myartbroker.com","/api/hs/submitForm"),_),await new Promise(e=>setTimeout(e,500));let j=await b(s,void 0,t,a,!0);await i.auth.updateUser({data:{hubspot_id:j}});let S=5;for(;S>0;){let{data:e}=await i.auth.getUser();if(null==e?void 0:null===(p=e.user)||void 0===p?void 0:null===(m=p.user_metadata)||void 0===m?void 0:m.hubspot_id)break;await new Promise(e=>setTimeout(e,1e3)),S--}await i.auth.refreshSession(),(0,y.r)(y.M.Signup,r,j)}catch(e){console.log(e)}},_=(0,p.U)(),j={firstname:n.Yj().required("Required"),lastname:n.Yj().required("Required"),email:n.Yj().email("Invalid email address").required("*Required").test("checkEmailValid","Please enter a valid email domain",e=>new Promise(t=>(0,m.J)(e,t)))},S=(e,t,a)=>{let[m,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(!1),f=(0,i.useRouter)(),{refreshSession:v}=(0,o.m)(),{stateDispatch:b}=(0,s.useContext)(l.K),x=(0,s.useCallback)(()=>{b({type:d.be.UPDATE_MODAL_STATE,payload:{isOpen:!1}})},[]),y=(0,s.useCallback)(async s=>{let{email:i,password:r,firstname:n,lastname:o}=s;g(!0);try{var l;let{data:s,error:d}=await _.auth.signUp({email:i,password:r,options:{captchaToken:t}}),m=null==s?void 0:null===(l=s.user)||void 0===l?void 0:l.id;if(!d&&m&&s.user){await w(m,n,o,i,_,s.user),await v(),(0,u.Ay)(u.y$.gaEvent,{gaEventName:"Signup"}),g(!1);let e=c.l1 in f.query;a?(e||x(),"/dashboard"===a&&x(),f.push(a)):(x(),f.push("/dashboard"))}else g(!1),e(),p((null==d?void 0:d.message)||"No user found")}catch(e){console.log("error registering user",e),p("We are having trouble registering your account, please try again or contact us for help."),g(!1)}},[t,f]),S=(0,r.Wx)({onSubmit:y,validationSchema:n.Ik({...j,password:n.Yj().required("*Required").matches(/^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%+-^&*])(?=.{8,})/,"8 characters, a combination of letters, numbers and symbols")}),validateOnChange:!0,initialValues:{firstname:"",lastname:"",email:"",password:""}});return(0,s.useEffect)(()=>{let e=setTimeout(()=>{p("")},3e4);return()=>{clearTimeout(e)}},[m]),{formik:S,errorMessage:m,isLoading:h}},T=(e,t)=>{let[a,i]=(0,s.useState)(!1),[r,n]=(0,s.useState)("");return{errorMessage:r,isLoading:a,ssoSignInHandler:(0,s.useCallback)(async()=>{i(!0);let t="".concat(window.location.origin,"/auth/sso-callback?redirect=").concat(encodeURIComponent(window.location.href));(0,u.Ay)(u.y$.gaEvent,{gaEventName:"".concat(e," with Google")}),i(!1),await _.auth.signInWithOAuth({provider:"google",options:{redirectTo:t}})},[t])}}},95181:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AuthContainer:()=>ec,default:()=>eu});var s=a(31085),i=a(29979),r=a(53373),n=a.n(r),o=a(60796),l=a(21286),d=a(62458),c=a(26746),u=a(89296),m=a(51264),p=a(30390),h=a(14041),g=a(59504),f=a(79313),v=a(14363),b=a(10523),x=a(68436),y=a(67647);let w={email:""},_=(e,t,a)=>{let[s,i]=(0,h.useState)(""),[r,n]=(0,h.useState)(!1),[o,l]=(0,h.useState)(!1),d=(0,y.U)(),{pushEvent:c}=(0,v.Ay)(),u=(0,h.useMemo)(()=>({webProduct:v.qe.Login,interactionLocation:t?v.wH.ForgotPasswordPopup:v.wH.ForgotPasswordPage}),[t]);(0,h.useEffect)(()=>{c("Forgot Password Page Loaded",{...u,interactionType:v.F7.PageLoad})},[]);let m=(0,h.useCallback)(async t=>{l(!0),i("");try{let{error:e}=await d.auth.resetPasswordForEmail(t.email,{captchaToken:a||"",redirectTo:"".concat("https://www.myartbroker.com","/reset-password")});e&&(i(e.message),c("Password Request Unsuccessful",{...u,interactionType:v.F7.Submission,error:e.message})),c("Password Request Successful",{...u,interactionType:v.F7.Submission}),n(!0),(0,b.Ay)(b.y$.gaEvent,{gaEventName:"Forgotten password completed"})}catch(t){await e(),i("There was an error resetting your password. Please try again."),c("Password Request Unsuccessful",{...u,interactionType:v.F7.Submission,error:"Error sending password reset. Dropped out at catch"})}l(!1)},[a]);return{isLoading:o,errorMessage:s,formik:(0,g.Wx)({initialValues:w,validateOnChange:!0,validationSchema:f.Ik({email:f.Yj().email("Invalid email address").required("Required").test("checkEmailValid","Please enter a valid email domain",e=>new Promise(t=>(0,x.J)(e,t)))}),onSubmit:m}),hasSent:r,logSubmitEvent:()=>{c("Clicked Send",{...u,interactionType:v.F7.Click})},onFieldBlur:e=>{let t=e.currentTarget.value.length;c("User Left Email Address Field",{...u,interactionType:v.F7.LeftInputField,characterCount:t})}}};var j=a(69647),S=a.n(j),T=a(33181),k=a.n(T);function A(e){let{testID:t,captchaToken:a,resetCaptcha:i,isModal:r}=e,{errorMessage:n,formik:l,hasSent:h,logSubmitEvent:g,onFieldBlur:f}=_(i,r,a);return(0,s.jsxs)("div",{className:S().base,"data-testid":t,children:[n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,className:k().formError,children:n}),(0,s.jsx)(m.A,{size:m.$.sm})]}),h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,children:"Please check your emails and follow the instructions."}),(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,children:"If it doesn't arrive to your inbox within a short time, please check your spam folder."})]}):(0,s.jsxs)("form",{onSubmit:l.handleSubmit,children:[(0,s.jsx)(d.default,{size:d.TextSizes.bodySml,children:"Please provide the email your account is associated with. We will send you an email with instructions to follow."}),(0,s.jsx)(m.A,{size:m.$.sm}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:l.values.email,label:"Email address*",onChange:l.handleChange,name:"email",onBlur:e=>{l.handleBlur(e),f(e)}}),l.errors.email&&l.touched.email&&(0,s.jsx)(u.A,{message:l.errors.email,absolutePos:!1})]}),(0,s.jsx)(m.A,{size:m.$.lg}),(0,s.jsx)(o.Ay,{disabled:l.isSubmitting,button:{type:o.EY.submit,onClick:g},iconLeft:!0,children:"Send"})]})]})}let C=e=>e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");var F=a(72922),N=a(22333),P=a.n(N);function E(e){let{ariaLabel:t,items:a,testID:i,noGutters:r=!1,defaultTab:o,variant:l="primary",onCallback:c,hideTabHeadings:u}=e,[m,p]=(0,h.useState)(o||0),g=(0,h.useRef)(null),f=(0,h.useRef)(null),v="primary"===l?d.TextSizes.primaryTitleMed:d.TextSizes.primaryTitleXSml,b=e=>{c&&(null==a?void 0:a[e])&&c(a[e]),p(e)};return(0,h.useEffect)(()=>{var e;if(!g||!f.current)return;let t=null===(e=g.current)||void 0===e?void 0:e.children[m],a=null==t?void 0:t.clientWidth;f.current.style.width="".concat(a,"px");let s=null==t?void 0:t.offsetLeft;f.current.style.left="".concat(s,"px")},[m]),(0,s.jsxs)("div",{className:n()(P().base,!u&&P().basePadTop),"data-testid":i,"aria-label":t,children:[!u&&(0,s.jsx)(F.A,{gutters:r?F.L.never:F.L.always,children:(0,s.jsxs)("div",{className:n()(P().tabs,P()[l]),ref:g,children:[null==a?void 0:a.map((e,t)=>(0,s.jsx)("button",{role:"tab",onClick:()=>b(t),id:"".concat(C(e.title),"-t-").concat(t),"aria-selected":t===m,"aria-controls":"".concat(C(e.title),"-p-").concat(t),children:(0,s.jsx)(d.default,{size:v,children:e.title})},"".concat(t,"-tab"))),(0,s.jsx)("div",{className:P().tabIndicator,ref:f})]})}),(0,s.jsx)("div",{className:P().content,children:null==a?void 0:a.map((e,t)=>(0,s.jsx)("div",{className:P().contentTab,id:"".concat(C(e.title),"-p-").concat(t),role:"tabpanel","aria-hidden":t!==m,hidden:t!==m,"aria-labelledby":"".concat(C(e.title),"-t-").concat(t),children:h.cloneElement(e.component,{activateTab:b})},"".concat(t,"-content-tab")))})]})}var L=a(77674),z=a(31242),I=a(31033),B=a(36821);let O=(e,t,a,s)=>{let[i,r]=(0,h.useState)(!1),n=(0,I.getCookie)(B.s.MAB_ACCOUNT),[o,l]=(0,h.useState)(0==e||n?"login":"signup"),d=(0,z.useRouter)(),[c,u]=(0,h.useState)(),m=(0,h.useRef)(null),p=(0,h.useRef)(c);return(0,h.useEffect)(()=>{p.current=c},[c]),{passwordDialogActive:i,setPasswordDialogActive:r,currentTab:o,onCompleteAction:()=>{if("verify"in d.query||null==t||t(),a)return},resetCaptcha:()=>new Promise(e=>{var t;u(void 0),null===(t=m.current)||void 0===t||t.reset();let a=setInterval(()=>{void 0!==p.current&&(clearInterval(a),e())},50)}),changeUrl:e=>{var t;l(null===(t=e.title)||void 0===t?void 0:t.toLowerCase()),s||d.push(null==e?void 0:e.url,void 0,{shallow:!0})},captchaToken:c,captchaRef:m,setCaptchaToken:u,returningUser:n}};var q=a(98370),R=a(62446),U=a(30465),M=a(22917),H=a(31879),D=a(58987),W=a(81374),G=a(46749);let V=(0,a(90826).Wp)(JSON.parse('{"apiKey":"AIzaSyBUt15pnitm-vP4oPQGDuBhOp8NobWeCwk","authDomain":"www.myartbroker.com","projectId":"myartbroker-ff6f8","storageBucket":"myartbroker-ff6f8.appspot.com","messagingSenderId":"25917783238","appId":"1:25917783238:web:791bd32f89142402562bc7","measurementId":"G-V159TCN0LH"}')),Y=(0,M.xI)(V),J=(e,t,a,s,i)=>{let[r,n]=(0,h.useState)(""),[o,l]=(0,h.useState)(!1),d=(0,z.useRouter)(),c=(0,h.useRef)(t),{stateDispatch:u}=(0,h.useContext)(D.K),{pushEvent:m}=(0,v.Ay)(),p={webProduct:v.qe.Login,interactionLocation:i?v.wH.LoginPopup:v.wH.LoginPage};(0,h.useEffect)(()=>{c.current=t},[t]);let w=(0,h.useCallback)(()=>{u({type:W.be.UPDATE_MODAL_STATE,payload:{isOpen:!1}})},[]),_=e=>{m("Login Unsuccessful",{...p,interactionType:v.F7.Submission,error:e})},j=()=>{let e=d.asPath;s&&e!==s&&d.push(s),G.l1 in d.query||w(),m("Standard Login Complete",{...p,interactionType:v.F7.Submission}),(0,b.Ay)(b.y$.gaEvent,{gaEventName:"Standard login complete"})},S=(0,h.useCallback)(async t=>{let{email:a,password:s}=t;try{l(!0),m("Standard Login Started",{...p,interactionType:v.F7.Submit}),(0,b.Ay)(b.y$.gaEvent,{gaEventName:"Standard login started"});let t=(0,y.U)(),i=!1,r=c.current,{error:o}=await t.auth.signInWithPassword({email:a,password:s,options:{captchaToken:r}}),d=async()=>{console.log("migrating user");let e=c.current,r=await fetch("/api/auth/migrate-user-password",{method:"POST",headers:H.A1,body:JSON.stringify({email:a,password:s})});if(200===r.status){let{error:r}=await t.auth.signInWithPassword({email:a,password:s,options:{captchaToken:e}});r?(n(r.message),_(r.message)):(i=!0,j())}};if(o){e();try{await (0,M.x9)(Y,a,s),await d()}catch(t){let e=t.code;"auth/wrong-password"===e&&n(t.message),"auth/multi-factor-auth-required"===e&&await d()}i||(n(o.message),e(),_(o.message))}else j();l(!1)}catch(e){_(e)}},[c,e,j,d]),T=(0,g.Wx)({onSubmit:S,validationSchema:f.Ik({email:f.Yj().email("Invalid email address").required("Required").test("checkEmailValid","Please enter a valid email domain",e=>new Promise(t=>(0,x.J)(e,t))),password:f.Yj().required("Required")}),validateOnChange:!0,initialValues:{email:a||"",password:""}}),k=T.isSubmitting||o||!t;return{formik:T,errorMessage:r,isLoading:o,isLoadingOrsubmitting:k,fieldBlurHandler:(e,t)=>{let a=e.currentTarget.value.length;m(t,{...p,interactionType:v.F7.LeftInputField,characterCount:a})},submitBtnClickEvent:()=>{m("Clicked Submit",{...p,interactionType:v.F7.Submit})},googleClickedEvent:()=>{m("Login with Google Clicked",{...p,interactionType:v.F7.Click})}}};var $=a(563),K=a.n($);function Q(e){let{testID:t,redirectUrl:a,emailAddress:i,resetCaptcha:r,captchaToken:n,isModal:l}=e,{formik:h,errorMessage:g,isLoading:f,isLoadingOrsubmitting:v,fieldBlurHandler:x,submitBtnClickEvent:y,googleClickedEvent:w}=J(r,n,i,a,l),_=(0,z.useRouter)(),{ssoSignInHandler:j,isLoading:S,errorMessage:T}=(0,U.dU)("Signup",n);return(0,s.jsxs)("div",{className:K().base,"data-testid":t,children:[_.query["update-password"]&&(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,children:"Password successfully changed, please login using your new password."}),(0,s.jsxs)("form",{onSubmit:h.handleSubmit,children:[!i&&(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:h.values.email,label:"Email address*",onChange:h.handleChange,name:"email",onBlur:e=>{h.handleBlur(e),x(e,"User Left Email Address Field")}}),h.errors.email&&h.touched.email&&(0,s.jsx)(u.A,{message:h.errors.email,absolutePos:!1})]}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:h.values.password,label:"Password*",onChange:h.handleChange,name:"password",onBlur:e=>{h.handleBlur(e),x(e,"User Left Password Field")},type:"password"}),h.errors.password&&h.touched.password&&(0,s.jsx)(u.A,{message:h.errors.password,absolutePos:!1})]}),(0,s.jsx)(m.A,{size:m.$.sm}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,className:k().formError,children:g}),(0,s.jsx)(m.A,{size:m.$.sm})]}),T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{Tag:"p",size:d.TextSizes.bodySml,className:k().formError,children:T}),(0,s.jsx)(m.A,{size:m.$.sm})]}),(0,s.jsxs)("div",{className:K().buttonContainer,children:[(0,s.jsx)(o.Ay,{disabled:h.isSubmitting||!h.isValid||S||f||!n,button:{type:o.EY.submit,onClick:async()=>{y(),(0,b.V2)([{eventType:"Login with email/password clicked"}])}},iconLeft:!v||(0,s.jsx)(R.A,{}),loading:v,children:"Login"}),(0,s.jsx)(d.default,{className:K().orText,children:"or"}),(0,s.jsx)(o.Ay,{button:{type:o.EY.button,onClick:async()=>{w(),j(),(0,b.V2)([{eventType:"Login with Google clicked"}])}},variant:o.hd.secondaryDark,iconLeft:(0,s.jsx)(q.I,{type:"GoogleButton"}),disabled:S||f||!n,children:"Login with Google"})]})]})]})}var X=a(30016);let Z=e=>{let{showPasswordHandler:t,analyticsHandler:a}=e;return(0,s.jsx)("div",{className:k().passwordBtn,children:(0,s.jsx)(o.Ay,{variant:o.hd.textLinkLightSmall,button:{type:o.EY.button,onClick:async()=>{t(),a()}},children:"Forgotten your password?"})})},ee=e=>{let{resetCaptcha:t,showPasswordHandler:a,returnToCurrent:i,activateTab:r,captchaToken:n,isModal:l}=e,{asPath:c}=(0,z.useRouter)(),{pushEvent:u}=(0,v.Ay)(),m={webProduct:X.qe.Login,interactionType:X.F7.Click,interactionLocation:l?X.wH.LoginPopup:X.wH.LoginPage},p=()=>{u("Clicked Signup",m)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{size:d.TextSizes.magPrimaryTitleSml,Tag:"h3",className:k().dialogTitle,children:"Login to my account"}),(0,s.jsxs)("div",{className:k().backToLogin,children:[(0,s.jsx)(d.default,{size:d.TextSizes.bodyMed,children:"Not yet have an account?"}),(0,s.jsx)(o.Ay,{variant:o.hd.textLinkLightSmall,button:{type:o.EY.button,onClick:async()=>{null==r||r(1),p()}},children:"Signup"})]}),(0,s.jsx)(Q,{redirectUrl:i?c:"/dashboard",captchaToken:n,resetCaptcha:t,isModal:l}),(0,s.jsx)(Z,{showPasswordHandler:a,analyticsHandler:()=>{u("Forgotten password clicked",m)}})]})};var et=a(46778),ea=a(2075),es=a.n(ea);function ei(e){let{message:t,centerText:a,testID:i,absolutePos:r=!0}=e;return(0,s.jsx)("div",{className:n()(es().helperWrap,a&&es().centerText,r&&es().absolutePos),"data-testid":i,children:(0,s.jsx)(d.default,{size:d.TextSizes.bodySml,children:t})})}var er=a(24402),en=a(69017),eo=a.n(en);function el(e){let{resetCaptcha:t,testID:a,completeUrl:i,captchaToken:r}=e,n=(0,z.useRouter)(),{formik:l,errorMessage:g,isLoading:f}=(0,U.OZ)(t,r,i);(0,h.useEffect)(()=>()=>{l.resetForm()},[n]);let{ssoSignInHandler:v,isLoading:x,errorMessage:y}=(0,U.dU)("Signup",r);return(0,s.jsx)("div",{className:eo().base,"data-testid":a,children:(0,s.jsxs)("form",{onSubmit:l.handleSubmit,className:eo().form,children:[(0,s.jsxs)("div",{className:eo().flexFields,children:[(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:l.values.firstname,label:"First name*",onChange:l.handleChange,name:"firstname",onBlur:l.handleBlur,disabled:f}),l.errors.firstname&&l.touched.firstname&&(0,s.jsx)(u.A,{message:l.errors.firstname,absolutePos:!1})]}),(0,s.jsx)(m.A,{size:m.$.xs}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:l.values.lastname,label:"Last name*",onChange:l.handleChange,name:"lastname",onBlur:l.handleBlur,disabled:f}),l.errors.lastname&&l.touched.lastname&&(0,s.jsx)(u.A,{message:l.errors.lastname,absolutePos:!1})]})]}),(0,s.jsx)(m.A,{size:m.$.xs}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:l.values.email,label:"Email address*",onChange:l.handleChange,name:"email",onBlur:l.handleBlur,disabled:f}),l.errors.email&&l.touched.email&&(0,s.jsx)(u.A,{message:l.errors.email,absolutePos:!1})]}),(0,s.jsx)(m.A,{size:m.$.xs}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(p.A,{value:l.values.password,label:"Password*",onChange:l.handleChange,name:"password",onBlur:l.handleBlur,disabled:f,type:"password"}),l.errors.password&&l.touched.password&&(0,s.jsx)(u.A,{message:l.errors.password,absolutePos:!1}),!l.errors.password&&(0,s.jsx)(ei,{message:"8 characters, a combination of letters, numbers and symbols",absolutePos:!1})]}),g&&(0,s.jsx)(et.A,{children:(0,s.jsx)(d.default,{size:d.TextSizes.bodyMed,children:"User already registered"===g?(0,s.jsxs)(s.Fragment,{children:["This email is already linked to a MyArtbroker account."," ",(0,s.jsx)(er.A,{href:"/login",children:"Login here"})," |"," ",(0,s.jsx)(er.A,{href:"/reset-password",children:"Forgotten password"})]}):g})}),y&&(0,s.jsx)(et.A,{children:(0,s.jsx)(d.default,{size:d.TextSizes.bodyMed,children:y})}),(0,s.jsxs)(d.default,{size:d.TextSizes.bodyMed,className:eo().terms,children:["By clicking SIGN UP you agree to be contacted by MyArtBroker."," ",(0,s.jsx)(er.A,{target:"_blank",href:"/privacy",children:"See Privacy Policy"})]}),(0,s.jsxs)("div",{className:eo().buttonContainer,children:[(0,s.jsx)("div",{className:eo().signupButton,children:(0,s.jsx)(o.Ay,{disabled:l.isSubmitting||!l.isValid||f||!r,button:{type:o.EY.submit,onClick:async()=>{await (0,b.V2)([{eventType:"Signup clicked"}])}},iconLeft:!l.isSubmitting&&!f&&!!r||(0,s.jsx)(R.A,{}),loading:l.isSubmitting||f||!r,children:"Sign up"})}),(0,s.jsx)(d.default,{className:eo().orText,children:"or"}),(0,s.jsx)(o.Ay,{button:{type:o.EY.button,onClick:async()=>{null==v||v(),await (0,b.V2)([{eventType:"Signup with Google clicked"}])}},variant:o.hd.secondaryDark,iconLeft:(0,s.jsx)(q.I,{type:"GoogleButton"}),className:eo().signupButton,disabled:f||x||!r,children:"Sign in with Google"})]})]})})}let ed=e=>{let{resetCaptcha:t,returnToCurrent:a,activateTab:i,captchaToken:r}=e,{asPath:n}=(0,z.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{size:d.TextSizes.magPrimaryTitleSml,Tag:"h3",className:k().dialogTitle,children:"Create a free account"}),(0,s.jsxs)("div",{className:k().backToLogin,children:[(0,s.jsx)(d.default,{size:d.TextSizes.bodyMed,children:"Already have an account? "}),(0,s.jsx)(o.Ay,{variant:o.hd.textLinkLightSmall,button:{type:o.EY.button,onClick:async()=>{null==i||i(0),(0,b.V2)([{eventType:"Already have an account, login clicked"}])}},children:"Login"})]}),(0,s.jsx)(el,{completeUrl:a?n:"/dashboard",captchaToken:r,resetCaptcha:t})]})};function ec(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:t})}function eu(e){let{testID:t,defaultTab:a,isModal:r=!1,returnToCurrent:c,callbackFn:u,topMessage:p,noPadding:h,reverseTabs:g=!1,showMpModalHeader:f=!1,ignoreCookie:v=!1}=e,{passwordDialogActive:b,setPasswordDialogActive:x,currentTab:y,onCompleteAction:w,resetCaptcha:_,changeUrl:j,captchaToken:S,captchaRef:T,setCaptchaToken:C,returningUser:F}=O(a,u,c,r),N=()=>[{title:"Login",url:"/login",component:(0,s.jsx)(ee,{currentTab:y,returnToCurrent:c,showPasswordHandler:()=>x(!0),captchaToken:S,resetCaptcha:_,isModal:r})},{title:"Signup",url:"/signup",component:(0,s.jsx)(ed,{currentTab:y,returnToCurrent:c,onComplete:u&&w,showPasswordHandler:()=>x(!0),captchaToken:S,resetCaptcha:_})}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ec,{children:(0,s.jsxs)("div",{className:n()([k().base,r&&k().baseModal,h&&k().noPadding]),"data-testid":t,children:[f&&(0,s.jsx)(l.A,{children:(0,s.jsxs)(d.default,{size:d.TextSizes.primaryTitleMed,children:[(0,s.jsx)("em",{children:"My"}),"Portfolio"]})}),(0,s.jsx)(i.Xs,{ref:T,siteKey:"0x4AAAAAAAdLTvqGrdB8XH1N",onSuccess:C,options:{size:"invisible",theme:"light"},onExpire:()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.reset()}}),p&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.default,{size:d.TextSizes.bodyMed,className:k().topMessage,children:(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})})}),b?(0,s.jsxs)("div",{className:k().passwordReset,children:[(0,s.jsx)(d.default,{size:d.TextSizes.primaryTitleMed,Tag:"h2",children:"Reset your password"}),(0,s.jsx)(m.A,{size:m.$.sm}),(0,s.jsx)(A,{captchaToken:S,resetCaptcha:_,isModal:r}),(0,s.jsx)(m.A,{size:m.$.md}),(0,s.jsx)(o.Ay,{variant:o.hd.textLinkLightSmall,button:{type:o.EY.button,onClick:()=>x(!1)},children:"Return to Login"})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(E,{items:g?N().reverse():N(),ariaLabel:"AuthTabs",noGutters:!0,onCallback:j,defaultTab:F&&!v?0:a,hideTabHeadings:!0})})]})}),(0,s.jsx)(L.A,{})]})}},68788:(e,t,a)=>{"use strict";let s;a.d(t,{H:()=>ee,A:()=>et});var i=a(31085),r=a(74946),n=a(14041),o=a(46778),l=a(62458),d=a(53373),c=a.n(d),u=a(60796),m=a(62446),p=a(33186),h=a.n(p);function g(e){let{currentSection:t,numberOfSections:a,prevOnClick:s,nextOnClick:r,formCompleteHandler:o,nextEnabled:d=!1,previousEnabled:p=!1,isSubmitting:g}=e;return(0,n.useEffect)(()=>{let e=e=>{"Enter"===e.key&&r&&d&&r()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r,d]),(0,n.useEffect)(()=>{t===a&&o()},[t,a]),(0,i.jsx)("div",{className:h().base,children:(0,i.jsxs)("div",{className:h().navigation,children:[(0,i.jsx)("div",{className:c()(h().nextButton,h().button,d&&h().active,g&&h().loading),children:(0,i.jsx)(u.Ay,{disabled:!d||g,button:{type:u.EY.button,onClick:r},variant:u.hd.primaryDark,iconLeft:!g||(0,i.jsx)(m.A,{}),loading:g,children:t===a-1?"Finish":"Next"})}),(0,i.jsx)("div",{className:[h().button,h().prevButton,p&&h().active].filter(Boolean).join(" "),children:(0,i.jsxs)("button",{onClick:s,disabled:!p,className:c()(h().previousBtn,p&&h().active),children:[(0,i.jsx)("i",{className:h().arrow}),(0,i.jsx)(l.default,{size:l.TextSizes.primaryTitleXXSml,children:"Previous"})]})})]})})}var f=a(59504),v=a(89296),b=a(52836),x=a(24220),y=a.n(x);function w(e){let{step:t,slides:a,fieldValues:s,errors:r,nextOnClick:n}=e,o=e=>{var t;let a=(null==b?void 0:b.filter(t=>t._id===e))||null;return a?null===(t=a[0])||void 0===t?void 0:t.name:""};return(0,i.jsx)("div",{className:y().base,children:null==a?void 0:a.map((e,d)=>{var c,u,m;let p=(null==s?void 0:s.artist)?o(null==s?void 0:s.artist):o("at-".concat(null==s?void 0:s.artist_id)),h=e.description||e.title,g=(e.title||"").replace("##artist##",p||"").replace("##artwork##",s.artworkName||"").replace("##firstname##",s.firstname||"").replace("##format##",s.format||""),b=(null===(c=s.email)||void 0===c?void 0:c.length)>0?null===(u=e.description)||void 0===u?void 0:u.replace("##email##",s.email):null===(m=e.description)||void 0===m?void 0:m.replace("##email##","you");return(0,i.jsxs)("div",{className:[y().questionWrap,a[t].items&&y().contentSlide,t==d&&y().present,t>d&&y().previous,t+1==d&&y().next,t+2==d&&y().furtherNext].filter(Boolean).join(" "),children:[h&&(0,i.jsxs)("div",{className:y().qDescription,children:[e.preTitle&&(0,i.jsx)("div",{className:y().questionPreTitle,children:(0,i.jsx)(l.default,{size:l.TextSizes.bodySml,children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.preTitle}})})}),e.title&&(0,i.jsx)("div",{className:y().heading,children:(0,i.jsx)(l.default,{size:l.TextSizes.primaryTitleMed,children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:g}})})}),b&&(0,i.jsx)("div",{className:y().questionDescription,children:(0,i.jsx)(l.default,{size:l.TextSizes.bodySml,children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:b}})})})]}),e.items.map((e,a)=>(e.hiddenFormId&&(e.props={...e.props,hiddenFormId:e.hiddenFormId}),(0,i.jsx)("div",{className:y()[e.props.name.replaceAll("_","")],children:(0,i.jsxs)("div",{className:[y().inputField,t==d&&y().present].filter(Boolean).join(" "),children:[t==d&&"input"===e.type&&(0,i.jsx)(e.component,{...e.props,nextOnClick:n,value:e.props.value?e.props.value:(0,f.O6)(s,e.props.name)||""}),t==d&&"input"===e.type&&function(e,t,a){if(t[e]&&a)return(0,i.jsx)(v.A,{message:t[e],centerText:"attachments"===e})}(e.props.name,r,(0,f.O6)(s,e.props.name)||""),t==d&&"content"===e.type&&(0,i.jsx)(e.component,{...e.props})]})},a)))]},d)})})}var _=a(99522),j=a.n(_);let S=function(e){let{steps:t,currentStep:a}=e;if(1===t)return null;let s=[];for(let e=0;e<t;e++)s.push((0,i.jsx)("span",{className:c()(a>=e&&j().stepActive)},"progressStep-".concat(e)));return(0,i.jsx)("div",{className:j().base,children:s})};var T=a(10523);let k=(e,t,a,s,i,r,o)=>{(0,n.useEffect)(()=>{let a=t[r];a.items.map(t=>{a&&t.fieldName&&t.autoNavigateWhenSet&&(0,f.O6)(e,t.fieldName)&&setTimeout(()=>{l()},500)})},[e]);let l=async()=>{t[r].items.map(e=>e.isBlocking),await s("next"),(0,T.Ay)(T.y$.ecomFormEvent,{formAction:"nextStep",formType:a,form_step:r+1}),await (0,T.V2)([{eventType:"".concat(a," form - next step ").concat(r+1," clicked")}])},d=async()=>{await s("previous"),await (0,T.V2)([{eventType:"".concat(a," form - previous step ").concat(r+1," clicked")}])};return{step:r,onNextClicked:l,setStep:o,slideHasErrors:a=>Object.keys(e).length<1||t[a].items.map(e=>!!e.fieldName&&Object.keys(i).includes(e.fieldName)).includes(!0),onPrevClicked:d}};var A=a(97996),C=a.n(A);function F(e){let{nextEnabled:t,numberOfSections:a,slides:s,onNavigation:r,fieldValues:n,errors:d,formCompleteHandler:c,formType:u,isSubmitting:m,step:p,setStep:h,submissionError:f=!1,testID:v}=e,{onNextClicked:b,slideHasErrors:x,onPrevClicked:y}=k(n,s,u,r,d,p,h);return(0,i.jsxs)("div",{className:C().base,"data-testid":v,children:[(0,i.jsx)(S,{steps:s.length-1,currentStep:p}),(0,i.jsx)(w,{slides:s,step:p,fieldValues:n,errors:d,nextOnClick:b}),f&&(0,i.jsx)(o.A,{children:(0,i.jsxs)(l.default,{size:l.TextSizes.bodySml,children:["It looks like there was an issue processing your request. Please try submitting it again. If the problem persists, please get in touch, we are ",(0,i.jsx)("a",{href:"mailto: info@myartbroker.com",children:"here to help"}),"."]})}),(0,i.jsx)(g,{prevOnClick:y,nextOnClick:b,nextEnabled:t&&!x(p)&&p+1!=(null==s?void 0:s.length),isSubmitting:m,previousEnabled:0!=p,currentSection:p,numberOfSections:a,formCompleteHandler:c})]})}var N=a(31033),P=a(79313),E=a(84291),L=a(23791),z=a(7359),I=a(53173),B=a(96881),O=a(55096),q=a(36821),R=a(18188),U=a(67647);let M=e=>{switch(e){case L.CG.sell:case L.CG.valuation:case L.CG.valuationKnownArtist:return L.CJ.lookingToSell;case L.CG.quickAdd:return L.CJ.owned;default:return L.CJ.wanted}},H=(e,t,a)=>{let s=[];return e.sections.forEach((e,i)=>{e.slides.forEach((e,r)=>{if(e.items){var n,o;s.push({index:{section:i,slide:r},id:r,description:e.description,preTitle:e.preTitle,title:e.title,items:e.items.map((e,s)=>({type:e.type,label:e.label,fieldName:e.fieldName,ignoreField:e.ignoreField,hiddenFormId:e.hiddenFormId,component:e.component,props:{...e.props,focusonload:(0===s).toString(),id:e.fieldName,name:e.fieldName,onChange:e.customOnChange?a:t},customOnChange:e.customOnChange,autoNavigateWhenSet:e.autoNavigateWhenSet,validationRules:e.validationRules,dependsOn:e.dependsOn,isBlocking:e.isBlocking})),onComplete:{action:(null===(n=e.onComplete)||void 0===n?void 0:n.action)?null===(o=e.onComplete)||void 0===o?void 0:o.action:L.pU.skip},visible:!e.dependsOn,dependsOn:e.dependsOn})}})}),s};var D=a(31879);let W=async(e,t)=>{try{let a=await fetch("/api/hs/createHsTicket",{method:"POST",headers:D.A1,body:JSON.stringify({hsPipelineId:0x5264b05,hsPipelineStageId:0x99a444a,subject:"Masterpiece request",userEmail:t,properties:{masterpiece_details:e.masterpiece_details}})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let s=(await a.json()).ticketID;if(e.attachments){let t=new FormData;if(t.append("attachments",e.attachments),t.append("ticketId",s),!(await fetch("/api/hs/uploadFileToTicket",{method:"POST",body:t})).ok)throw Error("HTTP error! status: ".concat(a.status))}}catch(e){console.log(e)}},G=async(e,t)=>{try{let a=await fetch("/api/hs/createHsTicket",{method:"POST",headers:D.A1,body:JSON.stringify({hsPipelineId:0x5379bb2,hsPipelineStageId:0x9bbd633,subject:"".concat(e.nonMabArtist," artwork request"),userEmail:t,properties:{content:e.artwork_details}})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));await a.json()}catch(e){console.log(e)}};var V=a(63816),Y=a(74886);let J=async()=>{let e=null;s&&(e=JSON.stringify({refresh:s.refresh}));let t=await fetch("".concat(D.es,"romeoToken"),{method:"POST",body:e,headers:D.A1});return await t.json()},$=async e=>{s=await J()},K=async(e,t,a,s)=>{if(!s||!t||!e.image)return;let i=new FormData;i.append("image",e.image),i.append("hs_ticket_id",a);let r=(0,Y.I)({Authorization:"Bearer ".concat(t),recaptcha:s});await V.A.post("".concat("https://w0jma9t2dg.execute-api.eu-west-2.amazonaws.com/prod/priv","/inventory/api/upload-image"),i,{headers:r})},Q=(e,t,a,s,i)=>{let[r,o]=(0,n.useState)(ee.CLEAR),l="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),[d,c]=(0,n.useState)(),[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)(!1),{openActiveEnquiryModal:g}=(0,I.A)(),{user:v,refreshSession:b}=(0,E.m)(),x=(0,U.U)(),{doCreate:y,isCallable:w,generateLocalCaptcha:_}=(0,B.A)(),[j,S]=(0,n.useState)(!1),{doUpdate:T}=(0,O.A)(),[k,A]=(0,n.useState)(),[C,F]=(0,n.useState)(!1),[V,Y]=(0,n.useState)(0),[J,Q]=(0,n.useState)(null);(0,n.useEffect)(()=>{null===J&&void 0!==v&&Q(!!(null==v?void 0:v.phoneNumber))},[v,J]);let X=()=>{i(!0),S(!1),Y(Math.max(V-1,0)),eo("previous")},Z=(0,n.useMemo)(()=>d?(0,D.zW)(d):P.Ik().shape({}),[d]),et=async(e,t,a)=>{if(!t)return;let s=await _();await K(e,t.accessToken,a,s)},ea=(0,f.Wx)({initialValues:e,validationSchema:Z,onSubmit:async s=>{if((null==d?void 0:d.items)&&v&&w){if(i(!1),S(!0),d.onComplete){let i=d.onComplete.action;if(i===L.pU.skip){S(!1),await en(V);return}if(i===L.pU.createMasterpieceTicket){await W(s,v.email),S(!1);return}if(i===L.pU.createNonMabArtworkBuyTicket){await G(s,v.email),S(!1);return}if(k){if(i===L.pU.romeoUpload)await et(s,v,k),S(!1);else{let e={...s};e.artist&&(e.artist=e.artist.replace("at-","")),e.artwork&&(e.artwork=e.artwork.replace("aw-",""));let t=await T(k,(0,R.K)(e),!C);if((null==t?void 0:t.success)===!1){X();return}F(!0),S(!1)}}else{let r=(null==e?void 0:e.ticket_type)||M(t),n=await y(s,r);if((null==n?void 0:n.status)==="enquiry active"){g();return}if((null==n?void 0:n.success)!==!0){X();return}es(a.formID,s,l),A(null==n?void 0:n.ticketId),v.phoneNumber&&v.phoneNumber==s.phone||(await x.from(q.s.PUBLIC_USERS_TABLE).update({phone_number:s.phone}).eq("id",v.id),b()),i===L.pU.romeoUpload&&await et(s,v,null==n?void 0:n.ticketId),S(!1)}}await en(V)}}});(0,n.useEffect)(()=>{d&&ea.validateForm()},[Z]);let es=async(e,t,a)=>{let s=(0,N.getCookie)("hubspotutk"),i={method:"POST",headers:z.c,body:JSON.stringify({email:null==v?void 0:v.email,phone:null==t?void 0:t.phone,firstname:null==v?void 0:v.firstName,lastname:null==v?void 0:v.lastName,hsCookie:s,hsFormId:e,currentPage:a})};await fetch("/api/hs/submitForm",i)},ei=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;m(a=>a.map(a=>{let s={...a},i=!1;if(a.dependsOn){var r,n;let o;o="blockingError"===a.dependsOn.fieldName?null!=e?e:ee.CLEAR:a.dependsOn.fieldName&&(0,f.O6)(t||ea.values,a.dependsOn.fieldName),null==a||null===(n=a.dependsOn)||void 0===n||null===(r=n.conditions)||void 0===r||r.forEach(e=>{switch(e.operator){case"equals":i=e.operands.includes(o);break;case"exists":i=e.operands.includes(!0)&&void 0!==o;break;default:i=!e.operands.includes(o)}}),s.visible=i}return s}))},er=null==u?void 0:u.filter(e=>e.visible);(0,n.useEffect)(()=>{ei(null,ea.values)},[ea.values]);let en=async e=>{let t=(null==u?void 0:u.filter(e=>e.visible))[e];c(t),t&&(t.items.forEach(async e=>{e.props.value&&await ea.setFieldValue(e.fieldName,e.props.value),e.fieldName&&!(0,f.O6)(ea.values,e.fieldName)&&await ea.setFieldValue(e.fieldName,void 0)}),await ea.validateForm(ea.values))};(0,n.useEffect)(()=>{(async()=>{await en(V)})()},[V,u]);let eo=async e=>{"next"===e?(ei(),await ea.submitForm(),Y(V+1)):(o(ee.CLEAR),Y(V-1))};return(0,n.useEffect)(()=>{let e;if(null===J)return;(null==v?void 0:v.phoneNumber)&&ea.setFieldValue("phone",v.phoneNumber),e=(null==v?void 0:v.phoneNumber)&&J?a.sections[0].slides.filter(e=>!e.notRequiredIfUserPhone):a.sections[0].slides.filter(e=>!e.requiredIfUserPhone);let t=H({...a,sections:[{...a.sections[0],slides:e}]},ea.handleChange,ea.setFieldValue);t&&(m(t),ei(null,ea.values),ea.validateForm(ea.values))},[v,J]),(0,n.useEffect)(()=>{ea.validateForm(ea.values)},[]),(0,n.useEffect)(()=>{if(!p&&u.length>0){void 0!==s&&$(s);let e=u.filter(e=>e.visible);e.length>0&&c(e[0]),h(!0)}},[s,u]),{visibleSlides:er,onFormNavigation:eo,formik:ea,blockingError:r,isSubmitting:j,step:V,setStep:Y}};var X=a(30470),Z=a.n(X),ee=function(e){return e.LOADING="loading",e.ERROR="error",e.INVALID="invalid",e.CLEAR="",e}({});function et(e){let{formType:t,testID:a,formCompleteHandler:s,initialValues:n,formObject:o,defaultTicketId:l,setSubmissionError:d,submissionError:c}=e,{visibleSlides:u,onFormNavigation:m,formik:p,blockingError:h,isSubmitting:g,step:f,setStep:v}=Q(n,t,o,l,d);return u.length?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:Z().formWrap,children:(0,i.jsx)(F,{slides:u,nextEnabled:!h,nextButtonLoading:"loading"===h,onNavigation:m,fieldValues:p.values,errors:p.errors,numberOfSections:u.length-1,testID:a,formCompleteHandler:s,formType:t,submissionError:c,isSubmitting:g,step:f,setStep:v})}),"loading"===h&&(0,i.jsx)(r.A,{})]}):null}},31879:(e,t,a)=>{"use strict";a.d(t,{A1:()=>r,es:()=>i,zW:()=>n});var s=a(79313);a(23791),a(68788);let i="/api/forms/",r={"Content-Type":"application/json",Accept:"application/json"},n=e=>{let t={};return null==e||e.items.forEach(e=>{t={...t,[e.fieldName]:e.validationRules}}),(null==e?void 0:e.items)?s.Ik().shape(t):null}},77674:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var s=a(31085),i=a(53373),r=a.n(i),n=a(72922),o=a(24402),l=a(62458),d=a(14006),c=a.n(d);let u=e=>{let{reducedPadding:t=!1,paddingBottom:a=!1,useContainer:i=!1}=e,d=(0,s.jsxs)(l.default,{size:l.TextSizes.bodySml,className:"prose",Tag:"p",children:["We are passionate about selling art, not data. We will never share or sell your information without your permission. By entering your data you consent to our use of your data in accordance with our"," ",(0,s.jsx)(o.A,{href:"/privacy",target:"_blank",className:c().link,children:"Privacy Policy"})," ","| ",(0,s.jsxs)("strong",{children:["\xa9 ",new Date().getFullYear()," MyArtBroker"]})]});return(0,s.jsx)("div",{className:r()(c().base,t&&c().reducedPadding,a&&c().paddingBottom),children:i?(0,s.jsx)(n.A,{children:d}):d})}},62271:(e,t,a)=>{"use strict";a.d(t,{CO:()=>r,VL:()=>s,jE:()=>n,lD:()=>i,m8:()=>o,tp:()=>l});let s="8541bb75-5463-46f4-b5d7-185749170594",i="42934519-2354-4959-9710-2efe3acba3b9",r="42934519-2354-4959-9710-2efe3acba3b9",n="e1634373-9126-4881-92b4-713679f985b9",o="1c960b84-1da2-4499-95ff-9af761d83e3c",l="0fa6f74c-aa00-464d-bb89-2f8259d1faf7"},7359:(e,t,a)=>{"use strict";a.d(t,{c:()=>s});let s={"Content-Type":"application/json",Accept:"application/json"}},55096:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(84291),i=a(84587),r=a(90099),n=a(74886);let o=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=0;for(;i<a;){try{let a=await fetch("".concat("https://w0jma9t2dg.execute-api.eu-west-2.amazonaws.com/prod/priv","/inventory/api/v2/ticket/").concat(t),{method:"GET",headers:e});if(200===a.status){let e=await a.json();if(null!==e.hubspot_id)return!0}}catch(e){console.error("Error fetching ticket status:",e)}await new Promise(e=>setTimeout(e,s)),i++}return console.error("max polling attempts reached, ticket was not updated"),!1},l=()=>{let{generateCaptchaToken:e,executeRecaptcha:t}=(0,r.A)(),{user:a}=(0,s.m)();return{doUpdate:async(t,s,r)=>{if(!a)return;let l="".concat("https://w0jma9t2dg.execute-api.eu-west-2.amazonaws.com/prod/priv","/inventory/api/v2/ticket/").concat(t),d=a.accessToken,c=await e();if(!d&&!c)return;let u=(0,n.I)({"Content-Type":"application/json",recaptcha:c,Authorization:"Bearer ".concat(d),Accept:"application/json",Connection:"keep-alive"}),m="There was an error UPDATING a ticket";if(r&&!await o(u,t))return{success:!1,status:"Ticket does not exist"};try{s.client_purchase_price&&(s.client_purchase_price=Math.floor(s.client_purchase_price));let e=await fetch("".concat(l),{method:"PATCH",headers:u,body:JSON.stringify(s)});if(204===e.status)return{success:!0};if(500===e.status)return(0,i.n)(m,{error:"Status 500 returned from Romeo - check Romeo logs"},s,e.status,l),{success:!1,status:"error"};if(204!==e.status){let t=await e.json();return(0,i.n)(m,t,s,e.status,l),{success:!1,status:e.status}}return{success:!0}}catch(e){return(0,i.n)(m,{error:"Dropped out at catch: ".concat(e instanceof Object?JSON.stringify(e):e)},s,500,l),{success:!1}}},isCallable:t}}},88951:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}},68436:(e,t,a)=>{"use strict";a.d(t,{J:()=>s});let s=((e,t)=>{let a;return function(){for(var s=arguments.length,i=Array(s),r=0;r<s;r++)i[r]=arguments[r];clearTimeout(a),a=setTimeout(()=>e(...i),t)}})(async(e,t)=>{try{let a=await fetch("https://validateemail-4x5xya3jgq-ew.a.run.app?email=".concat(e));t(200===a.status)}catch(e){t(!1)}},500)},92659:e=>{e.exports={base:"FormErrorNotification_base__aawEl"}},2075:e=>{e.exports={helperWrap:"FormFieldHelper_helperWrap__yEJ_K",absolutePos:"FormFieldHelper_absolutePos__g05iY",centerText:"FormFieldHelper_centerText__uK7rF"}},86035:e=>{e.exports={base:"FormLoader_base__HoT1x",blur:"FormLoader_blur__XbjCN",linearProgress:"FormLoader_linearProgress___nPdR",start:"FormLoader_start__K0I_R",thin:"FormLoader_thin__k6ovG",linearProgressBar:"FormLoader_linearProgressBar___T_pG",linearProgressBar1:"FormLoader_linearProgressBar1__mZwau",progressLinearMovement:"FormLoader_progressLinearMovement__jpc5b",linearProgressBar2:"FormLoader_linearProgressBar2__pt3Qi",end:"FormLoader_end__G6Ea5"}},563:e=>{e.exports={buttonContainer:"LoginForm_buttonContainer__rZGia"}},28071:e=>{e.exports={base:"ModalHeader_base__N9E1k"}},69647:e=>{e.exports={base:"PasswordForm_base__V53fj"}},69017:e=>{e.exports={base:"SignupForm_base__B849K",buttonContainer:"SignupForm_buttonContainer__gwmQR",hiddenField:"SignupForm_hiddenField__FhYjQ",instructions:"SignupForm_instructions__S1Iyc",signupButton:"SignupForm_signupButton__gX42F",orText:"SignupForm_orText__Cvmgr",terms:"SignupForm_terms__l_c5c",flexFields:"SignupForm_flexFields__dBJYA"}},22333:e=>{e.exports={tabs:"Tabs_tabs__jOpmp",basePadTop:"Tabs_basePadTop__8NVuE",tabIndicator:"Tabs_tabIndicator__qKYCw",contentTab:"Tabs_contentTab__EA1za",secondary:"Tabs_secondary__OywvQ"}},97996:e=>{e.exports={base:"Form_base__EiOlw"}},30470:e=>{e.exports={formWrap:"FormBuilder_formWrap__PR7lp"}},33186:e=>{e.exports={base:"FormNavigator_base__wSOnB",nextButton:"FormNavigator_nextButton__rr5uj",active:"FormNavigator_active__b_lbs",previousBtn:"FormNavigator_previousBtn__QsaQL",arrow:"FormNavigator_arrow__pnqQv",navigation:"FormNavigator_navigation__5YxqP"}},14006:e=>{e.exports={base:"FormPrivacy_base__MG2su",reducedPadding:"FormPrivacy_reducedPadding__dD31d",link:"FormPrivacy_link__GkMyC",paddingBottom:"FormPrivacy_paddingBottom__BiqyU"}},99522:e=>{e.exports={base:"FormProgress_base__umq_M",stepActive:"FormProgress_stepActive__2P2R8"}},24220:e=>{e.exports={base:"FormSlideContainer_base__WqgZ8",questionWrap:"FormSlideContainer_questionWrap__P5cNZ",present:"FormSlideContainer_present__X2znr",heading:"FormSlideContainer_heading__lIsNy",previous:"FormSlideContainer_previous__Lv1E2",next:"FormSlideContainer_next__SQ53O",questionPreTitle:"FormSlideContainer_questionPreTitle__LQmc8",questionDescription:"FormSlideContainer_questionDescription__2FOjh",requiredPrompt:"FormSlideContainer_requiredPrompt__XSXmg",inputField:"FormSlideContainer_inputField__5CKGZ",clientpurchasecurrency:"FormSlideContainer_clientpurchasecurrency___guww",clientpurchaseprice:"FormSlideContainer_clientpurchaseprice__l17Ye",clientdateofpurchase:"FormSlideContainer_clientdateofpurchase__mh6jL"}}}]);